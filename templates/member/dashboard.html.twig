{% extends 'base.html.twig' %}

{% block title %}Mon compte{% endblock %}

{% block body %}
<div class="container mt-4">
    <h1>Mon compte</h1>
    <p><strong>Email :</strong> {{ member.email }}</p>

    <hr>

    <h3>Ma collection de voitures</h3>
    {% if collection %}
        <p>Description : {{ collection.description }}</p>
        <ul>
            {% for v in voitures %}
                <li>
                    <a href="{{ path('voiture_show', { id: v.id }) }}">
                        {{ v.marque }} {{ v.modele }} ({{ v.annee }})
                    </a>
                </li>
            {% else %}
                <li>Aucune voiture dans votre collection.</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>Aucune collection associée (à créer via les fixtures ou back-office).</p>
    {% endif %}

    <hr>

    <h3>Mes galeries</h3>
    <ul>
        {% for g in galeries %}
            <li>
                <a href="{{ path('app_galerie_show', { id: g.id }) }}">
                    {{ g.description }} – {{ g.publiee ? 'Publiée' : 'Privée' }}
                </a>
            </li>
        {% else %}
            <li>Aucune galerie pour l'instant.</li>
        {% endfor %}
    </ul>

    <a href="{{ path('app_galerie_new') }}" class="btn btn-primary mt-3">
        Créer une nouvelle galerie
    </a>
</div>
{% endblock %}
